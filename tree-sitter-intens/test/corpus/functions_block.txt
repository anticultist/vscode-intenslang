=====================
empty functions block
=====================

FUNCTIONS
END FUNCTIONS;

---
(source_file
  (functions_block))

===================================
single function forward declaration
===================================

FUNCTIONS
  FUNC my_func;
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)))))

======================================
multiple function forward declarations
======================================

FUNCTIONS
  FUNC my_func, my_func2, my_func3;
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier))
      (function_declaration
        (function_identifier))
      (function_declaration
        (function_identifier)))))

==============================================
single function declaration with an empty body
==============================================

FUNCTIONS
  FUNC my_func {};
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier) (function_body)))))

===================================================
functions with forward declarations or empty bodies
===================================================

FUNCTIONS
  FUNC my_func{}, my_func2, my_func3{}, my_func4;
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier) (function_body))
      (function_declaration
        (function_identifier))
      (function_declaration
        (function_identifier) (function_body))
      (function_declaration
        (function_identifier)))))

===========================================
single function with empty options and body
===========================================

FUNCTIONS
  FUNC {} my_func{};
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (parameter_block)
      (function_declaration
        (function_identifier)
        (function_body)))))

===================
simple if statement
===================

FUNCTIONS
  FUNC my_func {
    IF (TRUE) ;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (if_statement
            (condition (true))))))))

===================================
if statement with complex condition
===================================

FUNCTIONS
  FUNC my_func {
    IF (foo < 42) ;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (if_statement
            (condition
              (binary_expression
                (identifier) (number)))))))))

=====================
combined if statement
=====================

FUNCTIONS
  FUNC my_func {
    IF (TRUE && TRUE) ;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (if_statement
            (condition
              (binary_expression (true) (true)))))))))

=================
if-else statement
=================

FUNCTIONS
  FUNC my_func {
    IF (FALSE) ;
    ELSE ;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (if_statement
            (condition (false))
            (else_part)))))))

==============================
ambiguous if-if-else statement
==============================

FUNCTIONS
  FUNC my_func {
    IF (TRUE)
      IF (FALSE) ;
      ELSE ;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (if_statement
            (condition (true))
            (if_statement
              (condition (false))
              (else_part))))))))

=================
simple while loop
=================

FUNCTIONS
  FUNC my_func {
    WHILE (FALSE) ;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (while_loop
            (condition (false))))))))

==================
complex while loop
==================

FUNCTIONS
  FUNC my_func {
    WHILE (foo < 4) ;
  };
END FUNCTIONS;

---

(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (while_loop
            (condition
              (binary_expression
                (identifier) (number)))))))))

===============
function blocks
===============

FUNCTIONS
  FUNC my_func {
    WHILE (FALSE) {
      IF (TRUE) {
      } ELSE {
      }
    }
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (while_loop
            (condition (false))
            (block
              (if_statement
                (condition (true))
                (block)
                (else_part
                  (block))))))))))

================
return statement
================

FUNCTIONS
  FUNC my_func {
    RETURN;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (return))))))

==============
exit statement
==============

FUNCTIONS
  FUNC my_func {
    EXIT;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (exit))))))

====================
variable declaration
====================

FUNCTIONS
  FUNC my_func {
    INTEGER a;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (variables_declaration
            (primitive_type)
            (variable_declaration (variable_identifier))))))))


======================
variables declarations
======================

FUNCTIONS
  FUNC my_func {
    INTEGER a, b, c;
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (variables_declaration
            (primitive_type)
            (variable_declaration (variable_identifier))
            (variable_declaration (variable_identifier))
            (variable_declaration (variable_identifier))))))))

=============
function call
=============

FUNCTIONS
  FUNC my_func {
    RUN( my_func2 );
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (function_call
            (function_name)
            (function_arguments
              (identifier))))))))

====================
nested function call
====================

FUNCTIONS
  FUNC my_func {
    MESSAGEBOX(COMPOSE("Finished %1!", "function"));
  };
END FUNCTIONS;

---
(source_file
  (functions_block
    (functions_declaration
      (function_declaration
        (function_identifier)
        (function_body
          (function_call
            (function_name)
            (function_arguments
              (function_call
                (function_name)
                (function_arguments
                  (string)
                  (string))))))))))
